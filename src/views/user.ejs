<%- include('includes/header') %>
  <link rel="stylesheet" href="/css/user.css" />

  <body>
    <%- include('includes/navbar') %>

    <div class="user">
      <div class="user-header">
        <a href="/admin/users" class="back-button">
          <i class="fas fa-arrow-left"></i> Back to Members
        </a>
        <h1>Member Details</h1>
      </div>

      <form id="memberForm">
        <input type="hidden" name="_id" value="<%= member._id %>" />
        <div class="user-content">
          <!-- Profile Card -->
          <div class="user-profile">
            <div class="profile-image-container">
              <% if (member.memberImage) { %>
              <img
                src="<%= member.memberImage %>"
                alt="Profile"
                class="profile-image"
              />
              <% } else { %>
              <div class="profile-image-placeholder">
                <i class="fas fa-user"></i>
              </div>
              <% } %>
            </div>

            <div class="member-type">
              <%= member.memberType %>
            </div>

            <select class="member-status" data-status="<%= member.memberStatus %>">
              <option value="ACTIVE" <%= member.memberStatus ==='ACTIVE' ? "selected" : "" %>> ACTIVE</option>
              <option value="BLOCKED" <%= member.memberStatus==="BLOCKED" ? "selected" : "" %>> BLOCKED</option>
              <option value="DELETED" <%= member.memberStatus==="DELETED" ? "selected" : "" %>> DELETED</option>
            </select>
            
            <div class="points-info">
              <i class="fas fa-star"></i>
              <input
                type="number"
                id="memberPoints"
                name="memberPoints"
                value="<%= member.memberPoints %>"
                min="0"
                class="points-input"
              />
            </div>
          </div>

          <!-- Details Form -->
          <div class="user-details">
            <div class="form-group">
              <label>Full Name</label>
              <input
                type="text"
                name="memberFullName"
                value="<%= member.memberFullName || '' %>"
                required
              />
            </div>

            <div class="form-group">
              <label>Email</label>
              <input
                type="email"
                name="memberEmail"
                value="<%= member.memberEmail %>"
                required
              />
            </div>

            <div class="form-group">
              <label>Phone</label>
              <input
                type="tel"
                name="memberPhone"
                value="<%= member.memberPhone %>"
              />
            </div>

            <div class="form-group">
              <label>Address</label>
              <input
                type="text"
                name="memberAddress"
                value="<%= member.memberAddress || '' %>"
              />
            </div>

            <div class="form-group">
              <label>Description</label>
              <textarea name="memberDesc"><%= member.memberDesc || '' %></textarea>
            </div>
          </div>
        </div>
        
        <div class="form-actions">
          <button type="submit" class="btn btn-primary">Save Changes</button>
        </div>
      </form>
    </div>

    <script src="/js/user.js"></script>
  </body>
<%- include('includes/footer') %>