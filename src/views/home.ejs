<%- include('includes/header') %>

<!-- Home CSS -->
<link rel="stylesheet" href="/css/home.css" />

<body>
  <%- include('includes/navbar') %>

  <!-- Background animation container -->
  <div id="vanta-background"></div>

  <div class="home">
    <div class="container">
      <% if (member) { %>

      <h1 class="welcome-text">Welcome Back!</h1>
      <h2 class="username">Admin Dashboard</h2>
      <div class="dashboard-stats">
        <div class="stat-card">
          <div class="stat-number"><%= dashboard.totalMembers || 0 %></div>
          <div class="stat-label">Total Users</div>
        </div>
        <div class="stat-card">
          <div class="stat-number"><%= dashboard.totalProducts || 0 %></div>
          <div class="stat-label">Active Products</div>
        </div>
        <div class="stat-card">
          <div class="stat-number"><%= dashboard.totalOrders || 0 %></div>
          <div class="stat-label">Total Orders</div>
        </div>
      </div>

      <% } else { %>
      <h2 class="username">Admin Dashboard</h2>
      <p class="no-auth">Please login to access the dashboard</p>
      <% } %>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.clouds.min.js"></script>
  <script>
    VANTA.CLOUDS({
      el: "#vanta-background",
      mouseControls: true,
      touchControls: true,
      gyroControls: false,
      minHeight: 200.0,
      minWidth: 200.0,
      skyColor: 0x7f7f7f,
      cloudColor: 0xc2c9d4,
      sunColor: 0xd29c61,
    });
  </script>
  <script src="/js/home.js"></script>

  <script>
    anime({
      targets: ".stat-number",
      innerHTML: [
        0,
        function (el) {
          return el.innerHTML; // This reads the original value and animates toward it
        },
      ],
      round: 1,
      duration: 1000,
      delay: anime.stagger(200),
      easing: "easeInOutExpo",
    });
  </script>
</body>

<%- include('includes/footer') %>
